{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawasaki/Documents/GitHub/trakmintorg/src/lib/actions.ts"],"sourcesContent":["'use server';\nimport nodemailer from 'nodemailer';\n\nimport { z } from 'zod';\n\nconst ClaimFormSchema = z.object({\n  fullName: z.string().min(2, \"Full name must be at least 2 characters.\"),\n  email: z.string().email(\"Invalid email address.\"),\n  phone: z.string().min(1, \"Phone number is required.\"),\n  scamType: z.string().min(1, \"Please select a scam type.\"),\n  dateOfIncident: z.string().min(1, \"Please provide the date of the incident.\"),\n  amountLost: z.coerce.number().min(1, \"Amount lost must be greater than 0.\"),\n  platform: z.string().min(2, \"Please specify the platform or website.\"),\n  details: z.string().min(20, \"Please provide at least 20 characters of details.\"),\n});\n\n// Configure your SMTP transport\nconst transporter = nodemailer.createTransport({\n  host: process.env.SMTP_HOST,\n  port: parseInt(process.env.SMTP_PORT || '587'),\n  auth: {\n    user: process.env.SMTP_USER,\n    pass: process.env.SMTP_PASS,\n  },\n});\n\nexport async function handleClaimSubmission(data: unknown) {\n  const validationResult = ClaimFormSchema.safeParse(data);\n\n  if (!validationResult.success) {\n    return {\n      success: false,\n      message: validationResult.error.errors.map(e => e.message).join('\\n'),\n    };\n  }\n\n  console.log(\"New claim submission received:\", validationResult.data);\n\n  const formData = validationResult.data;\n\n  // Send email\n  try {\n    await transporter.sendMail({\n      from: process.env.SMTP_USER, // Use your sending email address\n      to: \"help@trakmint.org\", // Recipient email address\n      subject: \"New Claim Submission\",\n      text: `\n        Full Name: ${formData.fullName}\n        Email: ${formData.email}\n        Phone: ${formData.phone}\n        Scam Type: ${formData.scamType}\n        Date of Incident: ${formData.dateOfIncident}\n        Amount Lost: ${formData.amountLost}\n        Platform: ${formData.platform}\n        Details: ${formData.details}\n      `,\n    });\n    console.log(\"Claim submission email sent successfully.\");\n  } catch (error) {\n    console.error(\"Error sending claim submission email:\", error);\n    // You might want to return an error here as well, or log it differently\n  }\n\n  return {\n    success: true,\n    message: \"Your claim has been submitted successfully. We will contact you shortly.\",\n  };\n}\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;;AAEA,MAAM,kBAAkB,yIAAC,CAAC,MAAM,CAAC;IAC/B,UAAU,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,OAAO,yIAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,OAAO,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,UAAU,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,gBAAgB,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAClC,YAAY,yIAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACrC,UAAU,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,SAAS,yIAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI;AAC9B;AAEA,gCAAgC;AAChC,MAAM,cAAc,0JAAU,CAAC,eAAe,CAAC;IAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC3B,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,IAAI;IACxC,MAAM;QACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;QAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;IAC7B;AACF;AAEO,eAAe,sBAAsB,IAAa;IACvD,MAAM,mBAAmB,gBAAgB,SAAS,CAAC;IAEnD,IAAI,CAAC,iBAAiB,OAAO,EAAE;QAC7B,OAAO;YACL,SAAS;YACT,SAAS,iBAAiB,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,IAAI,CAAC;QAClE;IACF;IAEA,QAAQ,GAAG,CAAC,kCAAkC,iBAAiB,IAAI;IAEnE,MAAM,WAAW,iBAAiB,IAAI;IAEtC,aAAa;IACb,IAAI;QACF,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,IAAI;YACJ,SAAS;YACT,MAAM,CAAC;mBACM,EAAE,SAAS,QAAQ,CAAC;eACxB,EAAE,SAAS,KAAK,CAAC;eACjB,EAAE,SAAS,KAAK,CAAC;mBACb,EAAE,SAAS,QAAQ,CAAC;0BACb,EAAE,SAAS,cAAc,CAAC;qBAC/B,EAAE,SAAS,UAAU,CAAC;kBACzB,EAAE,SAAS,QAAQ,CAAC;iBACrB,EAAE,SAAS,OAAO,CAAC;MAC9B,CAAC;QACH;QACA,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;IACvD,wEAAwE;IAC1E;IAEA,OAAO;QACL,SAAS;QACT,SAAS;IACX;AACF;;;IAzCsB;;AAAA,+OAAA"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/kawasaki/Documents/GitHub/trakmintorg/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {handleClaimSubmission as '4038f6901fafe823be0eda2b7f670677a039d150fb'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}